<script>
  (function() {
    var root = document.documentElement;
    var modes = ['dark', 'light', 'gradient'];
    var theme = localStorage.getItem('theme');
    if (!theme || modes.indexOf(theme) === -1) {
      theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }
    root.setAttribute('data-theme', theme);
    // Helps browsers pick the right palette immediately to reduce flicker
    root.style.colorScheme = theme === 'light' ? 'light' : 'dark';
  })();
</script>
<link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">